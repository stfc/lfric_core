$shumlib_rev{?} = @head
$lfric_rev{?} = @head
$steplist{?} = extract mirror

steps = $steplist
build.target = skeleton.exe

extract.ns = lfric shumlib

extract.location[lfric] = fcm:lfric.xm_tr$lfric_rev
extract.path-excl[lfric] = /
extract.path-incl[lfric] = \
    lfricinputs/source/skeleton \
    lfricinputs/source/common \
    infrastructure/source \
    components/science/source \
    components/lfric-xios/source \
    components/driver/source/driver_coordinates_mod.F90 \
    components/driver/source/driver_log_mod.f90 \
    components/driver/source/driver_mesh_mod.f90 \
    components/driver/source/driver_fem_mod.f90 \
    gungho/source \
    infrastructure/build/tools \
    infrastructure/rose-meta \
    components/driver/rose-meta \
    gungho/rose-meta \
    jules/rose-meta \
    um_physics/rose-meta \
    socrates/rose-meta

include = common/extract-shumlib.cfg

$ROSE_TASK_MIRROR_TARGET{?} = $CYLC_SUITE_SHARE_DIR/$ROSE_TASK_NAME
mirror.target = ${ROSE_TASK_MIRROR_TARGET}
$mirror_steplist{?} = preprocess build
mirror.prop{config-file.name} = 2
mirror.prop{config-file.steps} = $mirror_steplist

build.prop{no-dep.f.module} = netcdf yaxt mpi xios mod_wait
